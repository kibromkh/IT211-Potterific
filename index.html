<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>
        .over {
            background-color: orange;
        }
        .selected {
            background-color: green;
        }
    </style>
</head>
<body>
    <div id="buttons"></div>
    <table border='1'>
        <tr>
            <th>name</th>
            <th>role</th>
            <th>house</th>
            <th>gender</th>
            <th>alignment</th>
        </tr>
    </table>
    <button>reset</button>

    <script>
        var characters = [
            {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
            // ... other character data ...
            {name:"Severus Snape", role:"staff", house:"Slytherin",gender:"m",alignment:"?"}
        ];

        $(document).ready(function(){
            // Loop through the characters array to generate table rows
            for (let i = 0; i < characters.length; i++) {
                var character = characters[i];
                var row = $("<tr>");
                row.append("<td>" + character.name + "</td>");
                row.append("<td>" + character.role + "</td>");
                row.append("<td>" + character.house + "</td>");
                row.append("<td>" + character.gender + "</td>");
                row.append("<td>" + character.alignment + "</td>");
                $("table").append(row);
            }

            // Collect unique 'house' values and generate buttons
            var uniqueHouses = [...new Set(characters.map(character => character.house))];
            for (let house of uniqueHouses) {
                var button = $("<button>").text(house);
                button.click(function() {
                    $("table tr").hide();
                    $("table tr:contains('" + house + "')").show();
                });
                $("#buttons").append(button);
            }

            // Click handler for reset button
            $("button:contains('reset')").click(function() {
                $("table tr").show();
            });
        });
    </script>
</body>
</html>
